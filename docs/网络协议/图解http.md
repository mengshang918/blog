---
id: a7785cd0374e6044ab0a1c64fbbc81fa
title: 图解http
---

# 图解 http

1. Http/1.1 不保存状态，如何判断一个用户登录，请求报文中包含 cookie 发送
2. 内容编码提升传输效率
   - gzIp （GNU zip）
   - cpmpress（UNIX 系统标准压缩）
   - deflate （zlib）
   - identity （不进行编码）
3. 分块传输编码
4. 发送多部分对象集合
5. 获取部分内容范围请求
6. 内容协商返回合适内容

## 状态码

`状态码和状况不能百分百一致`

1. 2XX 成功

   - 200

     请求成功

   - 204

     请求处理成功，没有资源返回（客户端只需往服务端发送信息，服务端无需向客户端返回信息时使用）

   - 206

     获取部分内容范围请求

2. 3XX 重定向

3. 4XX 客户端错误

   - 400

     请求报文存在问题

   - 401

     发送的请求需有通过 http 的认证信息

   - 403

     资源访问被服务器拒绝

   - 404

     服务器没有请求的资源

4. 5XX 服务器错误

   - 500

     服务器在执行请求发生错误

   - 503

     服务器超负载、服务器正在停机维护

## 与 http 协作的 web 服务器

1. 服务器的虚拟主机

   - 虚拟主机可实现同一个 ip 部署多个域名的 web 应用

     why？请求中包含的 host 代表访问的域名

2. 代理、网关、隧道

   - 代理

     why 使用代理？1.利用缓存减少带宽 2.阻止内部针对特定网站进行控制 3.获取访问日志……..

     - 缓存代理（是否使用缓存）

       代理服务器会像源服务器（存报文实体的服务器）校验缓存时效性

     - 是否修改报文

       - 透明代理
       - 非透明代理（修改报文）

   - 网关

   - 隧道

## http 首部
