(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{227:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"b",(function(){return O}));var n=a(0),b=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,b=function(e,t){if(null==e)return{};var a,n,b={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(b[a]=e[a]);return b}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(b[a]=e[a])}return b}var i=b.a.createContext({}),o=function(e){var t=b.a.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},j=function(e){var t=o(e.components);return b.a.createElement(i.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},s=b.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,i=p(e,["components","mdxType","originalType","parentName"]),j=o(a),s=n,O=j["".concat(c,".").concat(s)]||j[s]||m[s]||r;return a?b.a.createElement(O,l(l({ref:t},i),{},{components:a})):b.a.createElement(O,l({ref:t},i))}));function O(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,c=new Array(r);c[0]=s;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:n,c[1]=l;for(var i=2;i<r;i++)c[i]=a[i];return b.a.createElement.apply(null,c)}return b.a.createElement.apply(null,a)}s.displayName="MDXCreateElement"},79:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return p})),a.d(t,"default",(function(){return o}));var n=a(2),b=a(7),r=(a(0),a(227)),c={id:"b1f6cee7ef1784df1f5f69a9c4a785da",title:"\u91cd\u62fejest"},l={unversionedId:"\u6d4b\u8bd5/\u5355\u5143\u6d4b\u8bd5/jest/b1f6cee7ef1784df1f5f69a9c4a785da",id:"\u6d4b\u8bd5/\u5355\u5143\u6d4b\u8bd5/jest/b1f6cee7ef1784df1f5f69a9c4a785da",isDocsHomePage:!1,title:"\u91cd\u62fejest",description:"- Api",source:"@site/../docs/\u6d4b\u8bd5/\u5355\u5143\u6d4b\u8bd5/jest/\u91cd\u62fejest.md",slug:"/\u6d4b\u8bd5/\u5355\u5143\u6d4b\u8bd5/jest/b1f6cee7ef1784df1f5f69a9c4a785da",permalink:"/blog/docs/\u6d4b\u8bd5/\u5355\u5143\u6d4b\u8bd5/jest/b1f6cee7ef1784df1f5f69a9c4a785da",editUrl:"https://github.com/mengshang918/blog/edit/master/website/../docs/\u6d4b\u8bd5/\u5355\u5143\u6d4b\u8bd5/jest/\u91cd\u62fejest.md",version:"current",sidebar:"sidebar",previous:{title:"jest\u5355\u5143\u6d4b\u8bd5",permalink:"/blog/docs/\u6d4b\u8bd5/\u5355\u5143\u6d4b\u8bd5/jest/094b039468990ad513f1f8dd484d8dc2"},next:{title:"\u6df1\u5165\u7406\u89e3js\u4e8b\u4ef6\u5faa\u73af\u673a\u5236\uff08\u6d4f\u89c8\u5668\u7bc7\uff09",permalink:"/blog/docs/\u6d4f\u89c8\u5668/\u4e8b\u4ef6\u5faa\u73af\u673a\u5236/dc678db259507b0c4aeb94631e2dc8a7"}},p=[{value:"Api",id:"api",children:[]},{value:"cli",id:"cli",children:[]},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",children:[]},{value:"get start",id:"get-start",children:[]},{value:"\u95ee\u9898",id:"\u95ee\u9898",children:[]}],i={rightToc:p};function o(e){var t=e.components,a=Object(b.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},i,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#api"}),"Api")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#cli"}),"cli")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#%E9%85%8D%E7%BD%AE"}),"\u914d\u7f6e")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#get-start"}),"get start")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"#%E9%97%AE%E9%A2%98"}),"\u95ee\u9898"))),Object(r.b)("h2",{id:"api"},"Api"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://jestjs.io/docs/en/api"}),"global")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://jestjs.io/docs/en/expect"}),"expect")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://jestjs.io/docs/en/mock-function-api"}),"mock function")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://jestjs.io/docs/en/jest-object"}),"jest object"))),Object(r.b)("h2",{id:"cli"},Object(r.b)("a",Object(n.a)({parentName:"h2"},{href:"https://jestjs.io/docs/en/cli"}),"cli")),Object(r.b)("h2",{id:"\u914d\u7f6e"},"\u914d\u7f6e"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"jest \u4e0d\u652f\u6301 es6 \u6a21\u5757\u8bed\u6cd5\uff0c\u914d\u7f6e babel")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://jestjs.io/docs/en/getting-started.html#using-babel"}),"babel \u914d\u7f6e")),Object(r.b)("p",{parentName:"li"},"jest \u4f1a\u81ea\u52a8\u6dfb\u52a0",Object(r.b)("inlineCode",{parentName:"p"},"process.env.NODE_ENV === 'test'"),"\u73af\u5883\u53d8\u91cf")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://jestjs.io/docs/en/getting-started.html#using-typescript"}),"ts \u914d\u7f6e"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://jestjs.io/docs/en/getting-started.html#using-webpack"}),"webpack \u914d\u7f6e"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://jestjs.io/docs/en/configuration"}),"jest \u914d\u7f6e")),Object(r.b)("p",{parentName:"li"},"jest --init \u521d\u59cb\u5316 jest.config.js"))),Object(r.b)("h2",{id:"get-start"},"get start"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"\u5f02\u6b65"),Object(r.b)("ol",{parentName:"li"},Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"callback"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u4e0d\u52a0 done\uff0c\u5219\u4f1a\u5728 fetchData \u6267\u884c\u5b8c\u7acb\u9a6c\u7ed3\u675f\u6d4b\u8bd5\u3002\u4e0d\u4f1a\u7b49 callback \u6267\u884c\u5b8c\u3002")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u52a0\u4e86 done\uff0c\u6d4b\u8bd5\u4f1a\u5728 done \u4e4b\u540e\u5b8c\u6210\u6d4b\u8bd5"))),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"test('xx', (done) => {\n  function callback(data) {\n    try {\n      expect(data).toBe('peanut butter')\n      done()\n    } catch (error) {\n      done(error)\n    }\n  }\n  fetchData(callback)\n})\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"promise"),Object(r.b)("p",{parentName:"li"},"\u4e0b\u9762\u4e24\u79cd\u65b9\u6848\u5fc5\u987b\u6709 return\uff0c\u5426\u5219\u6d4b\u8bd5\u5c06\u4f1a\u5728 resolve \u4e4b\u524d\u5b8c\u6210"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"return promise"),"\uff0c\u5728 then\u3001catch \u4e2d\u65ad\u8a00",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"return fetchData().then(data=>{expect(data).toBe(xx)})")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"return fetachData().catch(err=>expect(e).toMatch('error'))")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"return \u65ad\u8a00"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"resolves",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"return expect(fetchData()).resolves.toBe(xx)")))),Object(r.b)("li",{parentName:"ul"},"rejects",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"return expect(fetchData()).rejects.toMatch('error')")))))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Async/await"),Object(r.b)("p",{parentName:"li"},"\u4f7f\u7528 await\uff0c\u5c31\u4e0d\u9700\u8981",Object(r.b)("inlineCode",{parentName:"p"},"\u8fd4\u56depromise"),"\u6216\u8005",Object(r.b)("inlineCode",{parentName:"p"},"\u8fd4\u56de\u65ad\u8a00")),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"test('xx',async ()={const data = await detchData();expect(data).toBe(xx)})"))))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"setup and teardown"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"beforeEach()\u3001afterEach()")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"beforeAll()\u3001afterAll()")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u4e0a\u8ff0\u56db\u4e2a\u65b9\u6cd5\u662f\u9002\u7528\u5f53\u524d\u6587\u4ef6\u5185\u6240\u6709 test\u3002\u82e5\u53ea\u60f3\u9488\u5bf9\u6587\u4ef6\u4e2d\u67d0\u51e0\u4e2a test\uff0c\u53ef\u4f7f\u7528",Object(r.b)("inlineCode",{parentName:"p"},"describe"),"\u5bf9 test \u8fdb\u884c\u5206\u7ec4")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"describe \u548c test \u7684\u6267\u884c\u987a\u5e8f"),Object(r.b)("p",{parentName:"li"},"\u95ee\u9898\uff1a\u4e3a\u5565\u4e0d\u76f4\u63a5\u5728",Object(r.b)("inlineCode",{parentName:"p"},"describe"),"\u4e2d\u6267\u884c setup \u548c teardown\uff0c\u800c\u662f\u5728 befor","*","\u3001after","*","\u4e2d\u6267\u884c setup \u548c teardown\uff1f"),Object(r.b)("blockquote",{parentName:"li"},Object(r.b)("p",{parentName:"blockquote"},"Jest executes all describe handlers in a test file ",Object(r.b)("em",{parentName:"p"},"before")," it executes any of the actual tests."),Object(r.b)("p",{parentName:"blockquote"},"\u7ffb\u8bd1:jest \u5728\u6267\u884c\u4efb\u4f55\u5b9e\u9645 test \u4e4b\u524d\uff0c\u4f1a\u5148\u6267\u884c\u5b8c\u6240\u6709\u7684 describe \u5904\u7406\u7a0b\u5e8f")),Object(r.b)("p",{parentName:"li"},"\u6240\u4ee5\u5728 describe \u4e2d\u8bbe\u7f6e setup\u3001teardown \u4f1a\u5bfc\u81f4\u5904\u7406\u7a0b\u5e8f\u987a\u5e8f\u5f02\u5e38\u3002")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"test.only('xx',()=>{})"),"\u53ef\u4ee5\u5728\u5f53\u524d\u6d4b\u8bd5\u6587\u4ef6\u4e2d\u53ea\u6d4b\u8bd5\u5f53\u524d test\uff0c\u8df3\u8fc7\u5176\u4ed6 test")))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"mock functions"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"create a mock function in test code")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u6240\u6709 mock function \u5747\u6709",Object(r.b)("inlineCode",{parentName:"p"},".mock"),"\u5c5e\u6027")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"mock return(\u6a21\u62df\u8fd4\u56de\u503c)"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"mockReturnValueOnce")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"mockReturnValue")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"mock modules(\u6a21\u62df\u5305)"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"Jest.mock('')"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Mock Implementations(\u6a21\u62df\u51fd\u6570\u5b9e\u73b0)"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"jest.fn()"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"jest.mockImplementation()"),"\u3001",Object(r.b)("inlineCode",{parentName:"p"},"jest.mockImplementationOnce()")),Object(r.b)("p",{parentName:"li"},"\u4f7f\u7528\u573a\u666f\u5982\u4e0b"),Object(r.b)("blockquote",{parentName:"li"},Object(r.b)("p",{parentName:"blockquote"},"define the default implementation of a mock function that is created from another module")),Object(r.b)("p",{parentName:"li"},"\u5f53\u67d0\u4e2a\u51fd\u6570\u662f\u4ece\u5176\u4ed6\u6a21\u5757\u5f15\u5165\u3002\u9700\u8981\u4f7f\u7528",Object(r.b)("inlineCode",{parentName:"p"},"jest.mock()"),",\u800c",Object(r.b)("inlineCode",{parentName:"p"},"jest.mockImplementation()"),"\u3001",Object(r.b)("inlineCode",{parentName:"p"},"jest.mockImplementationOnce()"),"\u5219\u81ea\u52a8\u6dfb\u52a0\u4e86",Object(r.b)("inlineCode",{parentName:"p"},"jest.mock"),"\u3002\u65e0\u9700\u624b\u52a8\u6dfb\u52a0")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"jest.mockName('xx')\u6a21\u62df\u540d\u79f0")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u9488\u5bf9 mock function \u7684\u65ad\u8a00")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://jestjs.io/docs/en/manual-mocks"}),Object(r.b)("inlineCode",{parentName:"a"},"write a manual mock to override a module dependency"))),Object(r.b)("blockquote",{parentName:"li"},Object(r.b)("p",{parentName:"blockquote"},"Manual mocks are used to stub out functionality with mock data"),Object(r.b)("p",{parentName:"blockquote"},"\u7ffb\u8bd1\uff1a\u624b\u52a8\u6a21\u62df\u7528\u6765\u8bb2 mock \u7684\u6570\u636e\u5b58\u5165\u51fd\u6570")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"mock \u975e node \u6a21\u5757"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"\u5728\u5f53\u524d\u6587\u4ef6\u4e0b\u65b0\u5efa",Object(r.b)("inlineCode",{parentName:"li"},"__mocks__"),"\u6587\u4ef6\u5939\uff0c\u5e76\u5728\u5176\u4e2d\u5efa\u9700\u8981 mock \u7684\u6a21\u5757"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"mock node \u6a21\u5757"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u672a\u8bbe\u7f6e root\uff0c\u5219\u9700\u548c",Object(r.b)("inlineCode",{parentName:"p"},"node_modules"),"\u540c\u7ea7\u8bbe\u7f6e",Object(r.b)("inlineCode",{parentName:"p"},"__mocks__"),"\u6587\u4ef6\u5939,\u5e76\u624b\u52a8 jest.mock('module_name')")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u8bbe\u7f6e\u4e86 root"),Object(r.b)("p",{parentName:"li"},"\u65e0\u9700\u663e\u793a\u8c03\u7528 jest.mock()")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u9ed8\u8ba4\uff1anodejs \u6838\u5fc3\u6a21\u5757\u4e0d\u4f1a\u81ea\u52a8\u88ab mock \u7684\u3002\u5fc5\u987b\u663e\u793a jest.mock('path')")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"scope \u5305\uff0c\u65b0\u5efa",Object(r.b)("inlineCode",{parentName:"p"},"__mocks__/@scopr/project-name.js"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"\u6a21\u5757\u4e2d\u67d0\u4e2a\u65b9\u6cd5 a \u4e0d mock"),Object(r.b)("p",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"p"},"const {a} = jest.requrireActual('xxx')")))))))))),Object(r.b)("p",null,"4) ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/jest-community"}),"\u793e\u533a")),Object(r.b)("p",null,"   ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/jest-community/awesome-jest"}),"awesome-jest")),Object(r.b)("p",null,"5) snapshot test"),Object(r.b)("p",null,"   ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://jestjs.io/blog/2016/07/27/jest-14.html#why-snapshot-testing"}),"react tree snapshot test")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"import React from 'react'\nimport renderer from 'react-test-renderer'\n\nconst Link = () => (\n  <div>\n    <span>jest\u6d4b\u8bd5\u5feb\u71671</span>\n  </div>\n)\n\ntest('\u5feb\u7167', () => {\n  const tree = renderer.create(<Link />).toJSON()\n  expect(tree).toMatchSnapshot()\n})\n")),Object(r.b)("p",null,"   \u7b2c\u4e00\u6b21\u4f1a\u5728\u540c\u7ea7\u76ee\u5f55\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939",Object(r.b)("inlineCode",{parentName:"p"},"__spanshots__"),"\uff0c\u5e76\u5c06\u7b2c\u5feb\u7167\u4fdd\u5b58\u3002"),Object(r.b)("p",null,"   \u540e\u7eed\u5982\u9700\u4fee\u6539\u751f\u6210\u7684\u5feb\u7167\uff0c\u4f7f\u7528",Object(r.b)("inlineCode",{parentName:"p"},"jest -u"),"or",Object(r.b)("inlineCode",{parentName:"p"},"jest --updateSnapshot"),"\u66f4\u65b0 snapshot"),Object(r.b)("p",null,"6) ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://jestjs.io/docs/en/timer-mocks"}),"timer mocks")),Object(r.b)("p",null,"7) ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://jestjs.io/docs/en/es6-class-mocks"}),"ES6 Class mocks")),Object(r.b)("p",null,"8) ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://jestjs.io/docs/en/tutorial-react"}),"\u6d4b\u8bd5 react")),Object(r.b)("p",null,"   ",Object(r.b)("inlineCode",{parentName:"p"},"yarn add --dev jest babel-jest @babel/preset-env @babel/preset-react react-test-renderer")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://reactjs.org/docs/test-renderer.html"}),"react-test-renderer")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://enzymejs.github.io/enzyme/"}),"enzyme")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/testing-library/react-testing-library"}),"react-testing-library")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://reactjs.org/docs/test-utils.html"}),"testutils"))),Object(r.b)("h2",{id:"\u95ee\u9898"},"\u95ee\u9898"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"\u63d0\u793a Cannot find module '@bebel/babel-preset-preset-react'"),Object(r.b)("p",{parentName:"li"},"\u6392\u67e5\uff1a\u53d1\u73b0\u672a\u5b89\u88c5 babel-jest"),Object(r.b)("p",{parentName:"li"},"\u89e3\u51b3\uff1a",Object(r.b)("inlineCode",{parentName:"p"},"yarn add -D babel-jest"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"lerna + jest"),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/facebook/jest/issues/3112"}),"Guide use jest with lerna")))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Failed to write coverage reports:no such file or directory xxx/istanbul-reports/lib/html/assets"))),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"rm -rf node_modules .yarnclean && yarn install")),Object(r.b)("p",null,Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/gotwarlost/istanbul/issues/743"}),"No such file or directory (istanbul-reports/lib/html/assets)")))}o.isMDXComponent=!0}}]);